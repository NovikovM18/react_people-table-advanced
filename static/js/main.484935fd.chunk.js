(this["webpackJsonpreact_people-table-advanced"]=this["webpackJsonpreact_people-table-advanced"]||[]).push([[0],{36:function(e,t,r){},37:function(e,t,r){},38:function(e,t,r){},39:function(e,t,r){},40:function(e,t,r){},41:function(e,t,r){"use strict";r.r(t);var c=r(16),n=r.n(c),s=r(5),a=r(0),o=r(2),l=r(1),i=function(){return Object(l.jsx)("h1",{children:"Home page"})},j=r(12),u=r(10),b=r(4),d=r(8),h=r.n(d),O=r(17),p=r.n(O),m=r(7),x=r.n(m),f=(r(36),function(e){var t=e.person,r=Object(o.f)().search;return Object(l.jsx)(s.b,{to:{pathname:"/people/".concat(t.slug),search:r},className:x()({maleColor:"m"===t.sex,femaleColor:"f"===t.sex}),children:null===t||void 0===t?void 0:t.name})}),v=(r(37),function(e){var t=e.person,r=Object(o.h)().personSlug;return Object(l.jsxs)("tr",{className:x()({"selected-person":r===t.slug}),children:[Object(l.jsx)("td",{children:Object(l.jsx)(f,{person:t})}),Object(l.jsx)("td",{children:t.sex}),Object(l.jsx)("td",{children:t.born}),Object(l.jsx)("td",{children:t.died}),Object(l.jsx)("td",{children:t.mother?Object(l.jsx)(f,{person:t.mother}):Object(l.jsx)("b",{children:t.motherName})}),Object(l.jsx)("td",{children:t.father?Object(l.jsx)(f,{person:t.father}):Object(l.jsx)("b",{children:t.fatherName})})]})}),g=(r(38),function(e){var t=e.people,r=e.sortBy,c=e.sortOrder,n=Object(a.useState)(""),o=Object(b.a)(n,2),i=o[0],j=o[1],u=Object(s.c)(),d=Object(b.a)(u,2),h=d[0],O=d[1],p=function(e){var t=c;i!==e&&(j(e),t=null),h.set("sortBy",e),"asc"===t?h.set("sortOrder","desc"):h.set("sortOrder","asc"),O(h)},m=function(e){return x()("sort-button",{"sort-button--selected":r===e})},f=function(e){return r!==e?Object(l.jsx)("img",{src:"".concat(".","/images/sort_both.png"),alt:"img",className:"sort-button__arrow"}):"desc"===c?Object(l.jsx)("img",{src:"".concat(".","/images/sort_asc.png"),alt:"img",className:"sort-button__arrow"}):Object(l.jsx)("img",{src:"".concat(".","/images/sort_desc.png"),alt:"img",className:"sort-button__arrow"})};return Object(l.jsxs)("table",{className:"PeopleTable",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{className:"PeopleTable__head",children:[Object(l.jsxs)("th",{onClick:function(){return p("name")},className:m("name"),children:["Name",f("name")]}),Object(l.jsxs)("th",{onClick:function(){return p("sex")},className:m("sex"),children:["Sex",f("sex")]}),Object(l.jsxs)("th",{onClick:function(){return p("died")},className:m("died"),children:["Born",f("died")]}),Object(l.jsxs)("th",{onClick:function(){return p("born")},className:m("born"),children:["Died",f("born")]}),Object(l.jsx)("th",{children:"Mother"}),Object(l.jsx)("th",{children:"Father"})]})}),Object(l.jsx)("tbody",{children:t.map((function(e){return Object(l.jsx)(v,{person:e},e.slug)}))})]})}),N=r(18),w=function(){var e=Object(u.a)(h.a.mark((function e(){var t,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://mate-academy.github.io/react_people-table/api/people.json"));case 3:return t=e.sent,e.next=6,t.json();case 6:return r=e.sent,e.abrupt("return",r.map((function(e){var t=Object(N.a)({},e);return t.mother=r.find((function(t){return t.name===e.motherName})),t.father=r.find((function(t){return t.name===e.fatherName})),t})));case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),y=(r(39),function(){var e=Object(s.c)(),t=Object(b.a)(e,2),r=t[0],c=t[1],n=r.get("query"),o=r.get("sortBy"),i=r.get("sortOrder"),d=Object(a.useState)([]),O=Object(b.a)(d,2),m=O[0],x=O[1],f=Object(a.useState)(n),v=Object(b.a)(f,2),N=v[0],y=v[1],C=function(){var e=Object(u.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=x,e.next=3,w();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){C()}),[]);var _=Object(a.useCallback)(p()((function(e){e?(r.set("query",e),c(r)):(r.delete("query"),c(r))}),500),[]),k=n?m.filter((function(e){var t,r,c,s=n.toLowerCase();return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(s))||(null===(r=e.motherName)||void 0===r?void 0:r.toLowerCase().includes(s))||(null===(c=e.fatherName)||void 0===c?void 0:c.toLowerCase().includes(s))})):m;if(o)switch(o){case"name":case"sex":k=Object(j.a)(k).sort((function(e,t){switch(i){case"asc":return e[o].localeCompare(t[o]);case"desc":return t[o].localeCompare(e[o]);default:return 0}}));break;case"born":case"died":k=Object(j.a)(k).sort((function(e,t){switch(i){case"asc":return e[o]-t[o];case"desc":return t[o]-e[o];default:return 0}}))}return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h1",{children:"People page"}),Object(l.jsxs)("label",{htmlFor:"query",children:["Search: \xa0",Object(l.jsx)("input",{type:"text",id:"query",placeholder:"Search",value:N||"",onChange:function(e){y(e.target.value),_(e.target.value)},className:"mb-10"})]}),Object(l.jsx)("div",{className:"container",children:Object(l.jsx)(g,{people:k,sortBy:o,sortOrder:i})})]})}),C=(r(40),function(){return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)("header",{children:Object(l.jsxs)("nav",{children:[Object(l.jsx)(s.b,{to:"/",className:"nav-link",children:"Home"}),Object(l.jsx)(s.b,{to:"/people",className:"nav-link",children:"People"})]})}),Object(l.jsxs)(o.d,{children:[Object(l.jsx)(o.b,{path:"/",element:Object(l.jsx)(i,{})}),Object(l.jsx)(o.b,{path:"/people",element:Object(l.jsx)(y,{})}),Object(l.jsx)(o.b,{path:"/home",element:Object(l.jsx)(o.a,{to:"/",replace:!0})})]})]})});n.a.render(Object(l.jsx)(s.a,{children:Object(l.jsx)(C,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.484935fd.chunk.js.map