(this["webpackJsonpreact_people-table-advanced"]=this["webpackJsonpreact_people-table-advanced"]||[]).push([[0],{36:function(e,t,c){},37:function(e,t,c){},38:function(e,t,c){},39:function(e,t,c){},40:function(e,t,c){},41:function(e,t,c){"use strict";c.r(t);var r=c(16),n=c.n(r),s=c(5),a=c(0),o=c(2),l=c(1),j=function(){return Object(l.jsx)("h1",{children:"Home page"})},i=c(12),u=c(10),b=c(4),d=c(8),h=c.n(d),O=c(17),p=c.n(O),m=c(7),x=c.n(m),f=(c(36),function(e){var t=e.person,c=Object(o.f)().search;return Object(l.jsx)(s.b,{to:{pathname:"/people/".concat(t.slug),search:c},className:x()({maleColor:"m"===t.sex,femaleColor:"f"===t.sex}),children:t.name})}),v=(c(37),function(e){var t=e.person,c=Object(o.h)().personSlug;return Object(l.jsxs)("tr",{className:x()({"selected-person":c===t.slug}),children:[Object(l.jsx)("td",{children:Object(l.jsx)(f,{person:t})}),Object(l.jsx)("td",{children:t.sex}),Object(l.jsx)("td",{children:t.born}),Object(l.jsx)("td",{children:t.died}),Object(l.jsx)("td",{children:t.mother?Object(l.jsx)(f,{person:t.mother}):Object(l.jsx)("b",{children:t.motherName})}),Object(l.jsx)("td",{children:t.father?Object(l.jsx)(f,{person:t.father}):Object(l.jsx)("b",{children:t.fatherName})})]})}),g=(c(38),function(e){var t=e.people,c=e.sortBy,r=e.sortOrder,n=Object(a.useState)(""),o=Object(b.a)(n,2),j=o[0],i=o[1],u=Object(s.c)(),d=Object(b.a)(u,2),h=d[0],O=d[1],p=function(e){var t=r;j!==e&&(i(e),t=null),h.set("sortBy",e),"asc"===t?h.set("sortOrder","desc"):h.set("sortOrder","asc"),O(h)},m=function(e){return x()("sort-button",{"sort-button--selected":c===e})},f=function(e){return c!==e?Object(l.jsx)("img",{src:"".concat(".","/images/sort_both.png"),alt:"img",className:"sort-button__arrow"}):"desc"===r?Object(l.jsx)("img",{src:"".concat(".","/images/sort_asc.png"),alt:"img",className:"sort-button__arrow"}):Object(l.jsx)("img",{src:"".concat(".","/images/sort_desc.png"),alt:"img",className:"sort-button__arrow"})};return Object(l.jsxs)("table",{className:"PeopleTable",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{className:"PeopleTable__head",children:[Object(l.jsxs)("th",{onClick:function(){return p("name")},className:m("name"),children:["Name",f("name")]}),Object(l.jsxs)("th",{onClick:function(){return p("sex")},className:m("sex"),children:["Sex",f("sex")]}),Object(l.jsxs)("th",{onClick:function(){return p("died")},className:m("died"),children:["Born",f("died")]}),Object(l.jsxs)("th",{onClick:function(){return p("born")},className:m("born"),children:["Died",f("born")]}),Object(l.jsx)("th",{children:"Mother"}),Object(l.jsx)("th",{children:"Father"})]})}),Object(l.jsx)("tbody",{children:t.map((function(e){return Object(l.jsx)(v,{person:e},e.slug)}))})]})}),N=c(18),w=function(){var e=Object(u.a)(h.a.mark((function e(){var t,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://mate-academy.github.io/react_people-table/api/people.json"));case 3:return t=e.sent,e.next=6,t.json();case 6:return c=e.sent,e.abrupt("return",c.map((function(e){var t=Object(N.a)({},e);return t.mother=c.find((function(t){return t.name===e.motherName})),t.father=c.find((function(t){return t.name===e.fatherName})),t})));case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),y=(c(39),function(){var e=Object(s.c)(),t=Object(b.a)(e,2),c=t[0],r=t[1],n=c.get("query"),o=c.get("sortBy"),j=c.get("sortOrder"),d=Object(a.useState)([]),O=Object(b.a)(d,2),m=O[0],x=O[1],f=Object(a.useState)(n),v=Object(b.a)(f,2),N=v[0],y=v[1],C=function(){var e=Object(u.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=x,e.next=3,w();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){C()}),[]);var _=Object(a.useCallback)(p()((function(e){e?(c.set("query",e),r(c)):(c.delete("query"),r(c))}),500),[]),k=n?m.filter((function(e){var t,c,r,s=n.toLowerCase();return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(s))||(null===(c=e.motherName)||void 0===c?void 0:c.toLowerCase().includes(s))||(null===(r=e.fatherName)||void 0===r?void 0:r.toLowerCase().includes(s))})):m;if(o)switch(o){case"name":case"sex":k=Object(i.a)(k).sort((function(e,t){switch(j){case"asc":return e[o].localeCompare(t[o]);case"desc":return t[o].localeCompare(e[o]);default:return 0}}));break;case"born":case"died":k=Object(i.a)(k).sort((function(e,t){switch(j){case"asc":return e[o]-t[o];case"desc":return t[o]-e[o];default:return 0}}))}return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h1",{children:"People page"}),Object(l.jsxs)("label",{htmlFor:"query",children:["Search: \xa0",Object(l.jsx)("input",{type:"text",id:"query",placeholder:"Search",value:N||"",onChange:function(e){y(e.target.value),_(e.target.value)},className:"mb-10"})]}),Object(l.jsx)("div",{className:"container",children:Object(l.jsx)(g,{people:k,sortBy:o,sortOrder:j})})]})}),C=(c(40),function(){return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)("header",{children:Object(l.jsxs)("nav",{children:[Object(l.jsx)(s.b,{to:"/",className:"nav-link",children:"Home"}),Object(l.jsx)(s.b,{to:"/people",className:"nav-link",children:"People"})]})}),Object(l.jsxs)(o.d,{children:[Object(l.jsx)(o.b,{path:"/",element:Object(l.jsx)(j,{})}),Object(l.jsx)(o.b,{path:"/people",element:Object(l.jsx)(y,{})}),Object(l.jsx)(o.b,{path:"/people/:personSlug",element:Object(l.jsx)(y,{})}),Object(l.jsx)(o.b,{path:"/home",element:Object(l.jsx)(o.a,{to:"/",replace:!0})}),Object(l.jsx)(o.b,{path:"*",element:Object(l.jsx)("h1",{children:"Page Not Found"})})]})]})});n.a.render(Object(l.jsx)(s.a,{children:Object(l.jsx)(C,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.df48dc5b.chunk.js.map